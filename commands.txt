curl -X POST http://localhost:8081/api/publish      -H "Content-Type: text/plain"      -d "Nuovo Tutorial dal Producer Spring Boot"

 curl http://localhost:6868/api/test
 
 
 docker exec -it docker-compose-spring-boot-mongodb-mongo_db-1 mongosh -u root -p 123456 --authenticationDatabase admin
 
 use bezkoder_db
 
 db.tutorials.find().pretty()
 
 db.tutorials.countDocuments()
 
 
 
kubectl port-forward svc/producer-service 8081:8081


kubectl port-forward svc/app-service 6868:8080

#listare i topic kakfa 
docker exec -it distsystmproject-kafka1-1 kafka-topics --list --bootstrap-server localhost:9092

#controllare i topic e il loro stato di replicazione nel cluster 
docker exec -it distsystmproject-kafka1-1 kafka-topics --describe --topic tutorials-topic --bootstrap-server kafka1:29092,kafka2:29093,kafka3:29094

#disattivazione un kafka e controllare il nuovo stato delle repliche 
docker stop distsystmproject-kafka2-1
docker exec -it distsystmproject-kafka1-1 kafka-topics --describe --topic tutorials-topic --bootstrap-server kafka1:29092
#k8s diamo la lista dei topic
kubectl exec deployment/kafka1 -- kafka-topics \
  --bootstrap-server kafka1-service:9092 \
  --list


#vediamo la duplicazione dei topic 
kubectl exec deployment/kafka1 -- kafka-topics   --bootstrap-server kafka1-service:9092   --describe   --topic tutorials-topic
#vediamo come scalare il topic
kubectl scale deployment kafka2 --replicas=1
kubectl scale deployment kafka2 --replicas=0
